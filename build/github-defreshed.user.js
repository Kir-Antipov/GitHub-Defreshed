// ==UserScript==
// @name         GitHub Defreshed
// @namespace    GitHub
// @version      3.0.0
// @author       Kir_Antipov
// @description  Classical GitHub at its finest
// @license      MIT
// @homepageURL  https://github.com/Kir-Antipov/GitHub-Defreshed
// @updateURL    https://raw.githubusercontent.com/Kir-Antipov/GitHub-Defreshed/master/build/github-defreshed.meta.js
// @downloadURL  https://raw.githubusercontent.com/Kir-Antipov/GitHub-Defreshed/master/build/github-defreshed.user.js
// @supportURL   https://github.com/Kir-Antipov/GitHub-Defreshed/issues/new/choose
// @match        https://github.com/*
// @run-at       document-start
// @grant        none
// ==/UserScript==
(()=>{"use strict";var e={651:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(645),n=r.n(a)()((function(e){return e[1]}));n.push([e.id,".overall-summary{position:relative;margin-bottom:10px;border:1px solid}.overall-summary>ul.numbers-summary{display:table;width:100%;table-layout:fixed}.overall-summary>ul.numbers-summary>li{display:table-cell;padding:0;text-align:center;white-space:nowrap}.overall-summary>ul.numbers-summary>li>a{display:block;padding:10px 0;text-decoration:none}.overall-summary>ul.numbers-summary>li.tooltipped-se::before{bottom:3px}.overall-summary>ul.numbers-summary>li.tooltipped-se::after{top:calc(100% - 10px)}.overall-summary{border-color:var(--color-btn-border)}.overall-summary a{color:var(--color-text-secondary)}.overall-summary a:hover{color:var(--color-text-link)}.overall-summary .octicon{color:var(--color-text-tertiary)}.reponav-item svg.octicon{color:var(--color-underlinenav-icon)}div.repository-lang-stats-graph{border-color:var(--color-btn-border)}\n",""]);const i=n},335:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(645),n=r.n(a)()((function(e){return e[1]}));n.push([e.id,"body .rounded-1{border-radius:3px !important}.btn{border-radius:3px !important}.repository-content .file-navigation .btn{padding:3px 10px !important;font-size:12px !important;line-height:20px !important;font-weight:600 !important}#branch-select-menu>.btn>svg{display:none !important}#branch-select-menu>.btn>span{font-weight:600 !important}.subnav-item:first-child,.subnav-search-context .btn,.BtnGroup-item:first-child,.BtnGroup-parent:first-child .BtnGroup-item,.input-group .input-group-button:first-child .btn,.btn.btn-with-count{border-top-left-radius:3px !important;border-top-right-radius:0 !important;border-bottom-right-radius:0 !important;border-bottom-left-radius:3px !important}.subnav-item:last-child,.subnav-search-context+.subnav-search .subnav-search-input,.BtnGroup-item:last-child,.BtnGroup-parent:last-child .BtnGroup-item,.input-group .input-group-button:last-child .btn{border-top-left-radius:0 !important;border-top-right-radius:3px !important;border-bottom-right-radius:3px !important;border-bottom-left-radius:0 !important}img.avatar,img.avatar-user,a.avatar-user{border-radius:3px !important}body:not(.page-profile) img.avatar,body:not(.page-profile) img.avatar-user,body:not(.page-profile) a.avatar-user{background-color:transparent !important}.Box{border-radius:3px !important}.Box-header,:not(li).Box-row:first-of-type,.Box--danger li.Box-row:first-of-type{border-top-left-radius:3px !important;border-top-right-radius:3px !important}.markdown-body pre{border-radius:3px !important}.dropdown-menu,.SelectMenu-modal{border-radius:3px !important}.SelectMenu-modal .SelectMenu-tab{border-top-left-radius:4px !important;border-top-right-radius:4px !important}nav.menu{border-radius:3px !important}nav.menu>*:first-child{border-top-left-radius:3px !important;border-top-right-radius:3px !important}nav.menu>*:last-child{border-bottom-left-radius:3px !important;border-bottom-right-radius:3px !important}input[type='text'].form-control,input[type='url'].form-control,textarea.form-control,label.form-control,div.tag-input.form-control,select.form-select{border-radius:3px !important}textarea.form-control.js-quick-submit{border-top-left-radius:3px !important;border-top-right-radius:3px !important;border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}text-expander+label.drag-and-drop,text-expander+label.drag-and-drop>input{border-top-left-radius:0 !important;border-top-right-radius:0 !important;border-bottom-left-radius:3px !important;border-bottom-right-radius:3px !important}.pagehead-actions .btn{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important;padding:3px 10px !important}.pagehead-actions a.social-count{border-top-right-radius:3px !important;border-bottom-right-radius:3px !important;padding:3px 10px !important}div.overall-summary{border-radius:3px !important}div.repository-lang-stats-graph{border-bottom-left-radius:3px !important;border-bottom-right-radius:3px !important}div.repository-lang-stats-graph>span.language-color:first-child{border-bottom-left-radius:3px !important}div.repository-lang-stats-graph>span.language-color:last-child{border-bottom-right-radius:3px !important}a.topic-tag{border:none !important;display:inline-block !important;padding:.3em .9em !important;margin:0 .5em .5em 0 !important;white-space:nowrap !important;line-height:1.5 !important;font-size:12px !important;border-radius:3px !important}li.topic-tag-action{border-radius:3px !important}.IssueLabel{border-radius:2px !important}.IssueLabel--big.lh-condensed,.State{border-radius:3px !important}.timeline-comment{border-radius:3px !important}.timeline-comment-header,.previewable-comment-form .comment-form-head.tabnav{border-top-left-radius:3px !important;border-top-right-radius:3px !important}.timeline-comment-header .tabnav-tab,.previewable-comment-form .comment-form-head.tabnav .tabnav-tab{border-top-left-radius:4px !important;border-top-right-radius:4px !important}div.comment-reactions-options .reaction-summary-item:first-child{border-bottom-left-radius:3px}.h-card .avatar-before-user-status{border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important}.h-card .user-status-container{border-top:0 !important}.dropdown-menu .js-user-status-container{border-radius:3px !important}body.page-profile .graph-before-activity-overview{border-radius:3px !important}body.page-profile .contribution-activity li>.js-year-link{border-radius:3px !important}\n",""]);const i=n},445:(e,t,r)=>{r.d(t,{Z:()=>i});var a=r(645),n=r.n(a)()((function(e){return e[1]}));n.push([e.id,'html.defreshing main>*,html.defreshing div.footer{opacity:0}html.defreshing main::before{content:url("https://github.githubassets.com/images/spinners/octocat-spinner-128.gif");position:relative;left:calc(50% - 64px);top:64px}html.defreshing[data-color-mode=dark] main::before{filter:invert(1)}html.defreshed *{transition:1000ms opacity}\n',""]);const i=n},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,a){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(a)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(n[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);a&&n[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},119:(e,t,r)=>{const a=r(940),n=r(298);t.BF=e=>(e=(e||"").toString().toLowerCase(),a.includes(e))},298:e=>{e.exports=JSON.parse('{"avatars":{"reserved":true,"taken":true,"typical":true,"included":false},"assets":{"reserved":true,"taken":true,"typical":true,"included":false},"bookmarks":{"reserved":true,"taken":true,"typical":true,"included":false},"checks":{"reserved":true,"taken":true,"typical":true,"included":false},"conversations":{"reserved":true,"taken":true,"typical":true,"included":false},"labels":{"reserved":true,"taken":true,"typical":true,"included":false},"media":{"reserved":true,"taken":true,"typical":true,"included":false},"nodes":{"reserved":true,"taken":true,"typical":true,"included":false},"owners":{"reserved":true,"taken":true,"typical":true,"included":false},"page":{"reserved":true,"taken":true,"typical":true,"included":false},"registry":{"reserved":true,"taken":true,"typical":true,"included":false},"seats":{"reserved":true,"taken":true,"typical":true,"included":false},"shared":{"reserved":true,"taken":true,"typical":true,"included":false},"tasks":{"reserved":true,"taken":true,"typical":true,"included":false},"uploads":{"reserved":true,"taken":true,"typical":true,"included":false},"account":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com/settings/profile","included":true},"apps":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com/marketplace","included":true},"blog":{"reserved":true,"taken":false,"typical":false,"redirect":"https://blog.github.com","included":true},"c":{"reserved":true,"taken":false,"typical":false,"redirect":"https://support.github.com/","included":true},"contact":{"reserved":true,"taken":false,"typical":false,"redirect":"https://support.github.com/","included":true},"contributing":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com/about/careers","included":true},"customer":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com/business/customers","included":true},"customers":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com/business/customers","included":true},"developer":{"reserved":true,"taken":false,"typical":false,"redirect":"https://developer.github.com","included":true},"edu":{"reserved":true,"taken":false,"typical":false,"redirect":"https://education.github.com","included":true},"guides":{"reserved":true,"taken":false,"typical":false,"redirect":"https://help.github.com","included":true},"help":{"reserved":true,"taken":false,"typical":false,"redirect":"https://help.github.com","included":true},"launch":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com/search","included":true},"mac":{"reserved":true,"taken":false,"typical":false,"redirect":"https://desktop.github.com","included":true},"mirrors":{"reserved":true,"taken":false,"typical":false,"redirect":"https://help.github.com/articles/about-github-mirrors/","included":true},"pages":{"reserved":true,"taken":false,"typical":false,"redirect":"https://pages.github.com","included":true},"plans":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com/pricing","included":true},"press":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com/about/press","included":true},"readme":{"reserved":true,"taken":false,"typical":false,"included":true},"repositories":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com/trending","included":true},"resources":{"reserved":true,"taken":false,"typical":false,"redirect":"https://resources.github.com","included":true},"security":{"reserved":true,"taken":false,"typical":false,"redirect":"https://help.github.com/articles/github-security/","included":true},"settings":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com/settings/profile","included":true},"signup":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com/join","included":true},"terms":{"reserved":true,"taken":false,"typical":false,"redirect":"https://help.github.com/articles/github-terms-of-service/","included":true},"topic":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com/topics","included":true},"tos":{"reserved":true,"taken":false,"typical":false,"redirect":"https://help.github.com/articles/github-terms-of-service/","included":true},"training":{"reserved":true,"taken":false,"typical":false,"redirect":"https://services.github.com","included":true},"users":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com","included":true},"wiki":{"reserved":true,"taken":false,"typical":false,"redirect":"https://github.com","included":true},"windows":{"reserved":true,"taken":false,"typical":false,"redirect":"https://desktop.github.com","included":true},"advisories":{"reserved":true,"taken":true,"typical":false,"included":true,"notes":"GitHub Advisory Database"},"collections":{"reserved":true,"taken":false,"typical":false,"included":true,"notes":"Curated lists of GitHub repos"},"hovercards":{"reserved":true,"taken":false,"typical":false,"included":true,"notes":"HTTP ERROR 406"},"inbox":{"reserved":true,"taken":true,"typical":false,"redirect":"https://github.com/410","included":true,"notes":"410 ERROR"},"invalid-email-address":{"reserved":true,"taken":true,"typical":false,"included":true,"notes":"HTTP ERROR 404"},"suggestions":{"reserved":true,"taken":false,"typical":false,"included":true},"suspended":{"reserved":true,"taken":true,"typical":false,"redirect":"https://github.com","included":true,"notes":"Page behaviour depends on whether you\'re logged in or if your account is actually suspended"},"case-studies":{"reserved":false,"taken":true,"typical":false,"included":true},"watching":{"reserved":false,"taken":true,"typical":false,"included":true},"save-net-neutrality":{"reserved":false,"taken":true,"typical":false,"included":true},"ghost":{"reserved":false,"taken":true,"typical":true,"included":true},"status":{"reserved":true,"taken":false,"typical":false,"included":true}}')},940:e=>{e.exports=JSON.parse('["400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","418","419","420","421","422","423","424","425","426","427","428","429","430","431","500","501","502","503","504","505","506","507","508","509","510","511","about","access","account","admin","advisories","anonymous","any","api","apps","attributes","auth","billing","blob","blog","bounty","branches","business","businesses","c","cache","case-studies","categories","central","certification","changelog","cla","cloud","codereview","collection","collections","comments","commit","commits","community","companies","compare","contact","contributing","cookbook","coupons","customer-stories","customer","customers","dashboard","dashboards","design","develop","developer","diff","discover","discussions","docs","downloads","downtime","editor","editors","edu","enterprise","events","explore","featured","features","files","fixtures","forked","garage","ghost","gist","gists","graphs","guide","guides","help","help-wanted","home","hooks","hosting","hovercards","identity","images","inbox","individual","info","integration","interfaces","introduction","invalid-email-address","investors","issues","jobs","join","journal","journals","lab","labs","languages","launch","layouts","learn","legal","library","linux","listings","lists","login","logos","logout","mac","maintenance","malware","man","marketplace","mention","mentioned","mentioning","mentions","migrating","milestones","mine","mirrors","mobile","navigation","network","new","news","none","nonprofit","nonprofits","notices","notifications","oauth","offer","open-source","organisations","organizations","orgs","pages","partners","payments","personal","plans","plugins","popular","popularity","posts","press","pricing","professional","projects","pulls","raw","readme","recommendations","redeem","releases","render","reply","repositories","resources","restore","revert","save-net-neutrality","saved","scraping","search","security","services","sessions","settings","shareholders","shop","showcases","signin","signup","site","spam","sponsors","ssh","staff","starred","stars","static","status","statuses","storage","store","stories","styleguide","subscriptions","suggest","suggestion","suggestions","support","suspended","talks","teach","teacher","teachers","teaching","team","teams","ten","terms","timeline","topic","topics","tos","tour","train","training","translations","tree","trending","updates","username","users","visualization","w","watching","wiki","windows","works-with","www0","www1","www2","www3","www4","www5","www6","www7","www8","www9"]')}},t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={id:a,exports:{}};return e[a](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{function e(e){return new Promise((t=>{setTimeout(t,e)}))}var t=r(119);function a(e=location.pathname){try{e=new URL(e).pathname}catch(e){}return e.replace(/^[/]|[/]$|(\?(.*))$|(\/\?(.*))$/g,"")}function n(e=location.pathname){let t=function(e=location.pathname){if(!o(e=a(e)))return null;let[t,r]=e.split("/");return{owner:t,repo:r}}(e);return t?`${t.owner}/${t.repo}`:null}function i(e=location.pathname){if(!o(e=a(e)))return null;let t=e.match(/^[^/]+[/][^/]+[/]?(.*)$/);return t?t[1]:null}function o(e=location.pathname){let r=(e=a(e)).substring(0,e.indexOf("/"));return!y()&&/^[^/]+\/[^/]+/.test(e)&&!(0,t.BF)(r)&&!function(e=location.pathname){return/^((orgs[/][^/]+[/])?dashboard([/]index[/]\d+)?)?$/.test(a(e))}(e)&&!function(e=location.pathname){return/^([^/]+[/][^/]+\/)?notifications/.test(a(e))}(e)}function s(e=location.pathname){let t=i(e),r=/^(tree[/][^/]+)?$/.test(t);return r||!(t||"").startsWith("tree/")?r:(t=t.substring(5),!y()&&[...document.querySelectorAll("#ref-list-branches > .SelectMenu-list > a > span:not(.Label)")].map((e=>e.innerText&&e.innerText.trim())).filter((e=>e)).some((e=>e==t)))}function l(e=location.pathname){return!y()&&/^tree\//.test(i(e))}function c(){return!!document.querySelector("main:nth-child(1) div.repository-content > git-clone-help")}function u(e=location.pathname){return/^blob\//.test(i(e))}function d(e=location.pathname){return function(e=location.pathname){return(i(e)||"").startsWith("raw/")}(e)||function(e=location.pathname){return(i(e)||"").startsWith("archive/")}(e)||function(e=location.pathname){return(i(e)||"").startsWith("releases/download/")}(e)}function m(e=location.pathname){return/^projects\/\d+$/.test(i(e))}function p(e=location.pathname){return/#[^/]*$/.test(e)}function h(e=location.pathname){return!y()&&a(e).startsWith("settings/profile")}function f(e=location.pathname){return e=a(e),!y()&&e&&!e.includes("/")&&!(0,t.BF)(e)}function y(){return"Page not found · GitHub"===((document.head.querySelector("title")||{}).innerText||"")}function g(e,t){try{return new URL(e).host==t}catch(r){return window.location.host==t&&e.startsWith("/")}}function b(e=location.pathname,t=location.host,r=location.protocol){return function(e){try{return new URL(e),!0}catch(e){return!1}}(e)?e:`${r}//${t}/${e=a(e)}`}function v(e=window.location.href){return g(e,"github.com")}var w=r(651);const x=new Set(["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","animation","audio","canvas","circle","clipPath","color-profile","cursor","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","handler","hkern","iframe","image","line","linearGradient","listener","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","prefetch","radialGradient","rect","script","set","solidColor","stop","style","svg","switch","symbol","tbreak","text","textArea","textPath","title","tref","tspan","unknown","use","video","view","vkern"]);x.delete("a"),x.delete("audio"),x.delete("canvas"),x.delete("iframe"),x.delete("script"),x.delete("video");const S=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,k=(e,t)=>{for(const[r,a]of Object.entries(t))r.startsWith("-")?e.style.setProperty(r,a):"number"!=typeof a||S.test(r)?e.style[r]=a:e.style[r]=a+"px"},E=e=>"string"==typeof e?x.has(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e):(e=>e===DocumentFragment)(e)?document.createDocumentFragment():e(e.defaultProps),q=(e,t,r)=>{null!=r&&(/^xlink[AHRST]/.test(t)?e.setAttributeNS("http://www.w3.org/1999/xlink",t.replace("xlink","xlink:").toLowerCase(),r):e.setAttribute(t,r))},_=(e,t)=>{for(const r of t)r instanceof Node?e.appendChild(r):Array.isArray(r)?_(e,r):"boolean"!=typeof r&&null!=r&&e.appendChild(document.createTextNode(r))},B={createElement:(e,t,...r)=>{var a;const n=E(e);if(_(n,r),n instanceof DocumentFragment||!t)return n;for(let[e,r]of Object.entries(t))if("htmlFor"===e&&(e="for"),"class"===e||"className"===e){const e=null!==(a=n.getAttribute("class"))&&void 0!==a?a:"";q(n,"class",(e+" "+String(r)).trim())}else if("style"===e)k(n,r);else if(e.startsWith("on")){const t=e.slice(2).toLowerCase().replace(/^-/,"");n.addEventListener(t,r)}else"dangerouslySetInnerHTML"===e&&"__html"in r?n.innerHTML=r.__html:"key"!==e&&!1!==r&&q(n,e,!0===r?"":r);return n},Fragment:"function"==typeof DocumentFragment?DocumentFragment:()=>{}};async function A(t,r,a){let n=new Date;for(;new Date-n<a;){let a=t();if("boolean"==typeof a)return a;await e(r)}return!!t()}function N(){return["complete","interactive","uninitialized"].includes(document.readyState)}function T(e){return e&&(N()||P(e))}function P(e){return e&&(e.nextSibling||P(e.parentNode))}function C(e,t,r,a,n){return A(n?()=>!!T(e.querySelector(t))||null:()=>N()?T(e.querySelector(t)):!!T(e.querySelector(t))||null,r,a)}function R(e,t,r,a,n){return A(n?()=>!!e.querySelector(t)||null:()=>N()?!!e.querySelector(t):!!e.querySelector(t)||null,r,a)}async function L(e,t){let r=e[0];return"string"==typeof r?r={selectors:[...e]}:r instanceof Node&&(r={container:e[0],selectors:[...e].splice(1)}),r={container:document,interval:100,timeout:1500,dynamic:!1,selectors:[],...r},r.selector&&(r.selectors=[r.selector]),r.selectors&&!Array.isArray(r.selectors)&&(r.selectors=[...r.selectors]),(await Promise.all(r.selectors.map((e=>t(r.container,e,r.interval,r.timeout,r.dynamic))))).every((e=>e))}function F(e){return"string"==typeof e?e={selectors:[...arguments]}:e instanceof Node&&(e={container:arguments[0],selectors:[...arguments].splice(1)}),e.interval=0,e.timeout=0,M(e)}function j(...e){return L(e,R)}function M(...e){return L(e,C)}function D(e,t,...r){return function(e,...t){return new Promise(((r,a)=>{try{let n=e(...t,r);n instanceof Promise?n.then(r).catch(a):void 0!==n&&r(n)}catch(e){a(e)}}))}(t.bind(e),...r)}class V{constructor(e){this.storage=e}async setItem(e,t){this.storage[e]=t}async getItem(e){return this.storage[e]}}class O{constructor(e){this.storage=e.storage.sync||e.storage.local}async setItem(e,t){await D(this.storage,this.storage.set,{[e]:t})}async getItem(e){return await D(this.storage,this.storage.get,e).then((t=>(t||{})[e]))}}const z=new class{constructor(e){this.storage=e}async setItem(e,t){await this.storage.setItem(e,JSON.stringify(t))}async getItem(e){let t=await this.storage.getItem(e);return"string"!=typeof t?null:JSON.parse(t)}}("undefined"!=typeof browser&&new O(browser)||"undefined"!=typeof chrome&&new O(chrome)||window.localStorage||window.sessionStorage||new V({}));class U{constructor(e,t,r,a){this.name=e,this.title=t,this.description=r,this.defaultValue=a,Object.freeze(this)}async getValue(){let e=await z.getItem(this.name);return null==e?this.defaultValue:e}async setValue(e){if(typeof e!=typeof this.defaultValue||Array.isArray(e)!=Array.isArray(this.defaultValue))throw new Error("Invalid type.");await z.setItem(this.name,e)}}const G=[new U("useOldCSS","Use old css styles","This will revert old css styles where it's possible. For example, it will unround edges of avatars and containers.",!0),new U("usePreloader","Use preloader","This will activate preloader during script initialization (first load of any GitHub page) to make the load look way smoother.",!0),new U("defreshProfilePage","Defresh profile page","This will roll back the changes of the profile page interface.",!0),new U("removeThemeSelector","Remove theme selector from the profile page","This will remove the theme selector from your profile page. (Why in the world is it here?)",!0),new U("keepProfilePageIcons","Don't remove tab icons on the profile page","If you want to keep tab icons on the profile page, enable this option.",!1),new U("defreshProfilePageUserStatus","Defresh status appearance on the profile page","If you prefer the way the status looked before, then this option's for you.",!0),new U("jumpToTop","Jump to the page's top after loading","If you want to preserve the scroll position after page load, you can disable this option.",!0),new U("treatTagsAsReleases","Treat tags as releases","Some repositories only use pre-releases, which aren't displayed as regular releases by GitHub, so without using this option you'll see 0 as the number of releases.",!0),new U("openLanguagesByDefault","Open language bar by default","This option allows you to change the default state of the language bar.",!1),new U("showLatestReleasePopup","Show information about the latest release","This will show information about the latest release (if any) when hovering over the releases section.",!0),new U("mainBranchName","Main branch name","Here you can specify default name of the main branch.","main")];for(let e of[...G])G[e.name]=e;const $=G,H=JSON.parse('{"u2":"github-defreshed"}');class I{isApplieble(e=window.location.href,t=null){return!0}waitUntilFixerReady(e=window.location.href,t=null){return!0}async apply(e=window.location.href,t=null){}}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}class J extends I{constructor(e,t,r){super(),this._css=t.toString(),this._option=e,this._name=`${H.u2}-${r}`}async isApplieble(){return await this._option.getValue()&&!document.querySelector(`head > style[${this._name}]`)}waitUntilFixerReady(){return A((()=>!!document.head||null),(e={interval:100,timeout:3e3,...e}).interval,e.timeout);var e}apply(){document.head.append(B.createElement("style",W({type:"text/css"},{[this._name]:""}),this._css))}}var Z=r(335);var K=r(445);const Q=function(e){let t=document.createElement("div");return t.innerHTML=e,t.firstChild};const X=function(e,t=null){return t=t||e.method,fetch(e.action,{method:t,body:new URLSearchParams(new FormData(e))})};async function Y(e){!function(){let e=document.querySelector(".progress-pjax-loader");if(e){const t=1200,r=100;e.firstElementChild.style.width=0,e.style.opacity="100%";for(let a=0;a<t;a+=r){let r=Math.floor((Math.exp(a/t)-1)/(Math.E-1)*100);r=Math.min(r,100),setTimeout((()=>e.firstElementChild.style.width=r+"%"),a)}setTimeout((()=>e.style.opacity=0),t+r)}}();let t=await fetch(e);return{document:(new DOMParser).parseFromString(await t.text(),"text/html"),url:t.url}}function ee(e){return e.src||e.getAttribute("data-src")}function te(e){document.body.className=e.body.className,document.head.querySelector("title").innerText=e.head.querySelector("title").innerText,function(e){let t=document.querySelector("header"),r=e.querySelector("header");t&&r&&t.replaceWith(r)}(e),function(e){let t=[...document.querySelectorAll("script")],r=[...e.querySelectorAll("script")].map(ee).filter((e=>!t.some((t=>ee(t)==e)))).map((e=>B.createElement("script",{src:e})));document.body.append(...r)}(e)}const re=async function(e=window.location.href,t=!0){let r=function(e=location.pathname){return!a(e)}(),n=m(),i=await Y(e),o=i.document.querySelector("main");if(o.style.display="none",r){document.querySelector("body > div.application-main").prepend(B.createElement("div",{itemScope:"",itemType:"http://schema.org/SoftwareSourceCode"},B.createElement("main",null)))}let s=document.querySelector("main");if(s.parentElement.insertBefore(o,s),await ie(i.url),s.replaceWith(o),r){let e=document.querySelector("body > div.application-main");for(let t of[...e.children].splice(1))e.removeChild(t)}else n&&(o.parentElement.className="");o.style.display="",await $.jumpToTop.getValue()&&window.scrollTo(0,0),te(i.document),t&&function(e){try{history.pushState(null,null,e)}catch(t){location.hash="#"+e}}(i.url)};const ae=[new class extends J{constructor(){super($.usePreloader,K.Z,"preloader")}},new class extends J{constructor(){super({getValue:()=>!0},w.Z,"compatibility")}},new class extends J{constructor(){super($.useOldCSS,Z.Z,"old-school")}},new class extends I{isApplieble(e){return h(e)}waitUntilFixerReady(){return M(".Subhead--spacious")}apply(){let e=document.querySelector(".Subhead--spacious"),t=B.createElement("div",{className:"Subhead Subhead--spacious"},B.createElement("h2",{className:"Subhead-heading"},"GitHub-Defreshed settings")),r=B.createElement("form",{className:"edit_user"},this.generateSettings(),B.createElement("button",{className:"btn",type:"submit",onClick:e=>{e.preventDefault(),location.reload()}},"Update preference"));e.parentElement.insertBefore(t,e),e.parentElement.insertBefore(r,e)}generateSettings(){return G.map((e=>this.generateProperty(e)))}generateProperty(e){switch(typeof e.defaultValue){case"boolean":return this.generateBooleanProperty(e);case"string":return this.generateStringProperty(e);default:return null}}generateBooleanProperty(e){let t="github-defreshed_"+e.name;const r=B.createElement("div",{className:"form-checkbox mt-0"},B.createElement("input",{id:t,type:"checkbox",onChange:function(){e.setValue(this.checked)}}),B.createElement("label",{htmlFor:t},e.title),e.description&&B.createElement("span",{className:"note"},e.description));return e.getValue().then((e=>r.querySelector("input").checked=e)),r}generateStringProperty(e){let t="github-defreshed_"+e.name;const r=B.createElement("dl",{className:"form-group"},B.createElement("dt",null,B.createElement("label",{htmlFor:t},e.title)),B.createElement("dd",null,B.createElement("input",{id:t,type:"text",className:"form-control",onChange:function(){e.setValue(this.value)}}),e.description&&B.createElement("div",{className:"note"},e.description)));return e.getValue().then((e=>r.querySelector("input").value=e)),r}},new class extends I{isApplieble(e){return o(e)}waitUntilFixerReady(){return M("main:nth-child(1) > div > nav")}apply(e){let t=document.querySelector("main > div > nav").parentElement;m(e)||(t.className="pagehead repohead hx_repohead readability-menu bg-gray-light pb-0 pt-3",t.firstElementChild.className="d-flex container-lg mb-4 px-3"),t.querySelector("nav").className="js-repo-nav js-sidenav-container-pjax clearfix hx_reponav reponav px-3 container-lg",t.querySelector("nav > ul").className="list-style-none",[...t.querySelectorAll("nav > ul > li")].forEach((e=>{e.className="";let t=e.querySelector("a"),r=t.classList.contains("selected");t.className="js-selected-navigation-item reponav-item"+(r?" selected":"")}))}},new class extends I{isApplieble(e){return o(e)&&!m(e)}waitUntilFixerReady(){return j("main:nth-child(1) .container-xl")}apply(){document.querySelector("main .container-xl").className="container-lg clearfix new-discussion-timeline px-3"}},new class extends I{isApplieble(e){return o(e)}waitUntilFixerReady(){return j("main:nth-child(1) div.repository-content > :first-child")}},new class extends I{isApplieble(e){return c()}waitUntilFixerReady(){return M("main:nth-child(1) git-clone-help")}async apply(){let e=document.querySelector("main:nth-child(1) git-clone-help"),t=new Map([["-M "+$.mainBranchName.defaultValue,"-M "+await $.mainBranchName.getValue()],["origin "+$.mainBranchName.defaultValue,"origin "+await $.mainBranchName.getValue()]]);for(let r of[...e.querySelectorAll("span")].filter((e=>(e.innerText||"").trim())))for(let e of t)r.innerText=r.innerText.replace(e[0],e[1])}},new class extends I{isApplieble(e){return(s(e)||l(e)||u(e))&&!c()}waitUntilFixerReady(){return M("main:nth-child(1) #branch-select-menu","main:nth-child(1) #branch-select-menu span.css-truncate-target")}apply(){let e=document.querySelector("#branch-select-menu"),t=e.querySelector("details-menu"),r=t&&t.getAttribute("src"),a=e.querySelector("include-fragment");a&&a.setAttribute("src",r);let n=e.querySelector("span.css-truncate-target");n.parentElement.insertBefore(B.createElement("i",{className:"d-none d-lg-inline"},"Branch: "),n)}},new class extends I{isApplieble(e){return(s(e)||l(e)||u(e))&&!c()}waitUntilFixerReady(){return M("main:nth-child(1) #ref-list-branches")}},new class extends I{isApplieble(e){return(s(e)||l(e))&&!c()}waitUntilFixerReady(e){let t=["main:nth-child(1) .repository-content .Box relative-time","main:nth-child(1) .repository-content .Box div.flex-shrink-0:not(.hx_avatar_stack_commit)"];return s(e)&&(t.push("main:nth-child(1) .repository-content .file-navigation > :not(:first-child) svg.octicon-git-branch"),t.push("main:nth-child(1) .repository-content .Box ul.list-style-none svg.octicon-history")),M({selectors:t,dynamic:!0})}apply(e,t){s(e)&&this._backupDetails(t),this._moveCommitBuildStatuses(),this._moveCommitComments(),this._moveCommitDetails(),this._removeSecondCommitTitle()}_backupDetails(e){let t=document.querySelector(".repository-content .file-navigation > :not(:first-child) svg.octicon-git-branch").parentElement;t.id="backup-branches";let r=t.parentElement;r.parentElement.removeChild(r),e.append(t);let a=document.querySelector(".repository-content .Box ul.list-style-none svg.octicon-history").parentElement;a.id="backup-commits";let n=a.parentElement.parentElement;n.parentElement.removeChild(n),e.append(a)}_getBuildStatuses(){return document.querySelector("main:nth-child(1) .repository-content .Box .Box-header details.commit-build-statuses")||document.querySelector("main:nth-child(1) .repository-content .Box .Box-header include-fragment")}_moveCommitBuildStatuses(){if(this._getBuildStatuses()){let e=document.querySelector(".repository-content .Box .Box-header .commit-author").parentElement;e.parentElement.insertBefore(B.createElement("div",{className:"ml-1"},this._getBuildStatuses()),e.nextSibling)}}_moveCommitComments(){let e=document.querySelector("main:nth-child(1) .repository-content .Box .Box-header svg.octicon-comment");if(e){let t=e.parentElement;t.className="no-wrap muted-link text-inherit ml-2";let r=document.querySelector(".repository-content .Box .Box-header a.commit-author").parentElement;r.parentElement.insertBefore(t,r.nextSibling)}}_moveCommitDetails(){let e=document.querySelector(".repository-content .Box relative-time").parentElement.parentElement,t=document.querySelector(".repository-content .Box div.flex-shrink-0:not(.hx_avatar_stack_commit)");for(let e of[...t.children])t.removeChild(e);let r=e.querySelector(".text-mono");r.classList.remove("ml-2");let a=e.querySelector("relative-time");t.append(B.createElement("div",{className:"css-truncate css-truncate-overflow text-gray"},"Latest commit ",r," ",a)),e.parentElement.removeChild(e)}_removeSecondCommitTitle(){let e=document.querySelector(".repository-content .Box .Box-header .Details-content--hidden a.text-bold");e&&e.parentElement.parentElement.removeChild(e.parentElement)}},new class extends I{isApplieble(e){return s(e)&&!c()}async waitUntilFixerReady(){return await M("main:nth-child(1) .BorderGrid-row:last-child")&&await F("main:nth-child(1) .BorderGrid-row .Progress")}async apply(){let e=[...document.querySelector("main .BorderGrid-row .Progress").parentElement.nextElementSibling.children].map(this._extractLanguageData);document.querySelector(".repository-content").prepend(B.createElement("details",{className:"details-reset mb-3",open:await $.openLanguagesByDefault.getValue()||void 0},B.createElement("summary",{title:"Click for language details"},B.createElement("div",{className:"d-flex repository-lang-stats-graph"},e.map((e=>B.createElement("span",{className:"language-color","aria-label":`${e.name} ${e.percent}`,itemProp:"keywords",style:{width:e.percent,backgroundColor:e.color}},e.name))))),B.createElement("div",{className:"repository-lang-stats"},B.createElement("ol",{className:"repository-lang-stats-numbers"},e.map((e=>(e.tagname=e.link?"a":"span",e))).map((e=>B.createElement("li",null,B.createElement(e.tagname,{href:e.link},B.createElement("span",{className:"color-block language-color",style:{backgroundColor:e.color}}),B.createElement("span",{className:"lang"}," ",e.name," "),B.createElement("span",{className:"percent"},e.percent)))))))))}_extractLanguageData(e){return e.querySelector("a")?{name:e.querySelector("span").innerText,percent:e.querySelectorAll("span")[1].innerText,color:e.querySelector("svg").style.color,link:e.querySelector("a").href}:{name:e.querySelectorAll("span")[1].innerText,percent:e.querySelectorAll("span")[2].innerText,color:e.querySelector("svg").style.color,link:""}}},new class extends I{isApplieble(e){return s(e)&&!c()}async apply(e,t){let r=document.querySelector(".repository-content details summary div.repository-lang-stats-graph");document.querySelector(".repository-content").prepend(B.createElement("div",{className:"overall-summary "+(r?"border-bottom-0 mb-0 rounded-bottom-0":"mb-3")},B.createElement("ul",{className:"numbers-summary"},this._createCommitsSummaryElement(t),this._createBranchesSummaryElement(t),this._createPackagesSummaryElement(e),this._createReleasesSummaryElement(e,await $.treatTagsAsReleases.getValue(),await $.showLatestReleasePopup.getValue()),this._createContributorsSummaryElement(e),this._createLicenseSummaryElement())))}_createCommitsSummaryElement(e){let t=e.querySelector("#backup-commits"),r=t.querySelector("strong").innerText,a=t.href;return this._createSummaryElement('<svg class="octicon octicon-git-commit" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M10.5 7.75a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zm1.43.75a4.002 4.002 0 01-7.86 0H.75a.75.75 0 110-1.5h3.32a4.001 4.001 0 017.86 0h3.32a.75.75 0 110 1.5h-3.32z"></path></svg>',a,"commit",r)}_createBranchesSummaryElement(e){let t=e.querySelector("#backup-branches"),r=t.querySelector("strong").innerText,a=t.href;return this._createSummaryElement('<svg class="octicon octicon-git-branch" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M11.75 2.5a.75.75 0 100 1.5.75.75 0 000-1.5zm-2.25.75a2.25 2.25 0 113 2.122V6A2.5 2.5 0 0110 8.5H6a1 1 0 00-1 1v1.128a2.251 2.251 0 11-1.5 0V5.372a2.25 2.25 0 111.5 0v1.836A2.492 2.492 0 016 7h4a1 1 0 001-1v-.628A2.25 2.25 0 019.5 3.25zM4.25 12a.75.75 0 100 1.5.75.75 0 000-1.5zM3.5 3.25a.75.75 0 111.5 0 .75.75 0 01-1.5 0z"></path></svg>',a,"branch",r,"es")}_createPackagesSummaryElement(e){return this._createSummaryElementFromRightBar(e,'<svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"></path></svg>',"package","s",0,"",!1)}_createReleasesSummaryElement(e,t,r){let a=this._createSummaryElementFromRightBar(e,'<svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"></path></svg>',"release","s",0,"",!0,t);if(r&&a){let e=this._findRightBarSectionByName("releases"),t=e&&e.querySelector("relative-time"),r=((t||{}).parentElement||{}).previousElementSibling,n=r&&r.querySelector("span");if(n){let e=`${n.innerText} — ${t.innerText}`;a.classList.add("tooltipped","tooltipped-se"),a.setAttribute("aria-label",e)}}return a}_createContributorsSummaryElement(e){return this._createSummaryElementFromRightBar(e,'<svg class="octicon octicon-people" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M5.5 3.5a2 2 0 100 4 2 2 0 000-4zM2 5.5a3.5 3.5 0 115.898 2.549 5.507 5.507 0 013.034 4.084.75.75 0 11-1.482.235 4.001 4.001 0 00-7.9 0 .75.75 0 01-1.482-.236A5.507 5.507 0 013.102 8.05 3.49 3.49 0 012 5.5zM11 4a.75.75 0 100 1.5 1.5 1.5 0 01.666 2.844.75.75 0 00-.416.672v.352a.75.75 0 00.574.73c1.2.289 2.162 1.2 2.522 2.372a.75.75 0 101.434-.44 5.01 5.01 0 00-2.56-3.012A3 3 0 0011 4z"></path></svg>',"contributor","s",1,"graphs/")}_createLicenseSummaryElement(){let e=document.querySelector(".flex-shrink-0.col-12.col-md-3 svg.octicon-law");if(e){let t=e.parentElement.href,r=e.parentElement.innerText.trim().replace(" License",""),a='<svg class="octicon octicon-law" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.75.75a.75.75 0 00-1.5 0V2h-.984c-.305 0-.604.08-.869.23l-1.288.737A.25.25 0 013.984 3H1.75a.75.75 0 000 1.5h.428L.066 9.192a.75.75 0 00.154.838l.53-.53-.53.53v.001l.002.002.002.002.006.006.016.015.045.04a3.514 3.514 0 00.686.45A4.492 4.492 0 003 11c.88 0 1.556-.22 2.023-.454a3.515 3.515 0 00.686-.45l.045-.04.016-.015.006-.006.002-.002.001-.002L5.25 9.5l.53.53a.75.75 0 00.154-.838L3.822 4.5h.162c.305 0 .604-.08.869-.23l1.289-.737a.25.25 0 01.124-.033h.984V13h-2.5a.75.75 0 000 1.5h6.5a.75.75 0 000-1.5h-2.5V3.5h.984a.25.25 0 01.124.033l1.29.736c.264.152.563.231.868.231h.162l-2.112 4.692a.75.75 0 00.154.838l.53-.53-.53.53v.001l.002.002.002.002.006.006.016.015.045.04a3.517 3.517 0 00.686.45A4.492 4.492 0 0013 11c.88 0 1.556-.22 2.023-.454a3.512 3.512 0 00.686-.45l.045-.04.01-.01.006-.005.006-.006.002-.002.001-.002-.529-.531.53.53a.75.75 0 00.154-.838L13.823 4.5h.427a.75.75 0 000-1.5h-2.234a.25.25 0 01-.124-.033l-1.29-.736A1.75 1.75 0 009.735 2H8.75V.75zM1.695 9.227c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327l-1.305 2.9zm10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327l-1.305 2.9z"></path></svg>';return this._createSummaryElement(a,t,r)}return null}_createSummaryElementFromRightBar(e,t,r,a="s",i=0,o="",s=!0,l=!1){let c,u,d=r+a,m=this._findRightBarSectionByName(d);if(!m&&!s)return null;if(m){let e=m.querySelector("span.Counter");!e&&l&&(e=m.querySelector(":scope > a > span")),c=(e||{}).innerText||i,u=m.querySelector("a").href}else c=i,u=`/${n(e)}/${o}${d}`;return this._createSummaryElement(t,u,r,c,a)}_findRightBarSectionByName(e){return[...document.querySelectorAll(".flex-shrink-0.col-12.col-md-3 div.BorderGrid-cell")].find((t=>{let r=t.querySelector("a");return r&&r.href.includes(e)}))}_createSummaryElement(e,t,r,a=-1,n="s"){return B.createElement("li",null,B.createElement("a",{href:t},Q(e)," ",-1!=a&&B.createElement("span",{className:"num text-emphasized"},a)," ",r+(1==a||-1==a?"":n)))}},new class extends I{isApplieble(e){return s(e)&&!c()}async waitUntilFixerReady(){return await M("main:nth-child(1) .repository-content .BorderGrid-row")&&await F("main:nth-child(1) .repository-content .BorderGrid-cell .topic-tag")}apply(){let e=document.querySelector("main .repository-content .BorderGrid-cell .topic-tag");document.querySelector("main .repository-content").prepend(B.createElement("div",{className:"repository-topics-container mt-2 mb-3 js-topics-list-container"},e.parentElement))}},new class extends I{isApplieble(e){return s(e)&&!c()}waitUntilFixerReady(){return M("main:nth-child(1) .repository-content .BorderGrid-row")}apply(){let e=document.querySelector("main .repository-content"),t=e.querySelector(".BorderGrid-cell"),r=t.querySelector(".f4"),a=t.querySelector(".topic-tag"),n=a?a.parentElement:null,i=t.querySelector(".octicon-link");i&&(i=i.parentElement.querySelector("a"));let o=i?i.href:"";e.prepend(B.createElement("div",{className:n?"":"mb-3"},B.createElement("div",{className:"f4"},B.createElement("span",{className:"text-gray-dark mr-2"},[...r.childNodes]),o&&B.createElement("span",null,B.createElement("a",{href:o,title:o,role:"link",target:"_blank",rel:"noopener noreferrer"},o)))))}},new class extends I{isApplieble(e){return s(e)&&!c()}async waitUntilFixerReady(){return await M("main:nth-child(1) .repository-content .BorderGrid-row")&&await F("main:nth-child(1) .repository-content .BorderGrid-row:nth-child(1) details")}apply(){let e=document.querySelector("main .repository-content .BorderGrid-row:nth-child(1) details");e&&document.querySelector("main .repository-content").prepend(e)}},new class extends I{isApplieble(e){return s(e)&&!c()}waitUntilFixerReady(){return M("main:nth-child(1) .repository-content")}apply(){let e=document.querySelector(".repository-content"),t=e.querySelector(".gutter-condensed"),r=t.firstElementChild;e.append(...r.children),t.parentElement.removeChild(t)}},new class extends I{isApplieble(e){return(s(e)||l(e))&&!c()}async waitUntilFixerReady(){return await M("main:nth-child(1) .repository-content")&&await F("main:nth-child(1) #readme")}apply(){let e=document.querySelector("#readme");e.className="Box md js-code-block-container Box--condensed",e.querySelector(".Box-header").className="Box-header d-flex flex-items-center flex-justify-between";let t=e.querySelector(".Box-title.pr-3");t.innerHTML='<svg class="octicon octicon-book" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M0 1.75A.75.75 0 01.75 1h4.253c1.227 0 2.317.59 3 1.501A3.744 3.744 0 0111.006 1h4.245a.75.75 0 01.75.75v10.5a.75.75 0 01-.75.75h-4.507a2.25 2.25 0 00-1.591.659l-.622.621a.75.75 0 01-1.06 0l-.622-.621A2.25 2.25 0 005.258 13H.75a.75.75 0 01-.75-.75V1.75zm8.755 3a2.25 2.25 0 012.25-2.25H14.5v9h-3.757c-.71 0-1.4.201-1.992.572l.004-7.322zm-1.504 7.324l.004-5.073-.002-2.253A2.25 2.25 0 005.003 2.5H1.5v9h3.757a3.75 3.75 0 011.994.574z"></path></svg>'+t.innerHTML}},new class extends I{async isApplieble(e){return await $.defreshProfilePage.getValue()&&f(e)}waitUntilFixerReady(){return M("main:nth-child(1) nav","main:nth-child(1) div.js-profile-editable-area > :not(.vcard-details)[class]")}async apply(e){let t=document.querySelector("main div.js-profile-editable-area > :not(.vcard-details)[class]"),r=document.querySelector("main nav");r.style.overflow="hidden",r.append(...this._generateTabs(t,e)),t.parentElement.removeChild(t),await $.keepProfilePageIcons.getValue()||[...r.querySelectorAll("svg")].forEach((e=>e.style.display="none"))}_generateTabs(e,t){let r=["stars","followers","following"],a=[null,null,'<svg height="16" class="octicon octicon-people text-gray-light" text="gray-light" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path fill-rule="evenodd" d="M5.5 3.5a2 2 0 100 4 2 2 0 000-4zM2 5.5a3.5 3.5 0 115.898 2.549 5.507 5.507 0 013.034 4.084.75.75 0 11-1.482.235 4.001 4.001 0 00-7.9 0 .75.75 0 01-1.482-.236A5.507 5.507 0 013.102 8.05 3.49 3.49 0 012 5.5zM11 4a.75.75 0 100 1.5 1.5 1.5 0 01.666 2.844.75.75 0 00-.416.672v.352a.75.75 0 00.574.73c1.2.289 2.162 1.2 2.522 2.372a.75.75 0 101.434-.44 5.01 5.01 0 00-2.56-3.012A3 3 0 0011 4z"></path></svg>'];return[...e.querySelectorAll("a")].filter((e=>r.includes(this._getTabName(e.href)))).sort(((e,t)=>r.indexOf(this._getTabName(e.href))-r.indexOf(this._getTabName(t.href)))).map((e=>this._generateTab(t,e,a[r.indexOf(this._getTabName(e.href))]))).filter((e=>e))}_getTabName(e){let t=e.indexOf("?");return-1==t?"":new URLSearchParams(e.substring(t)).get("tab")}_generateTab(e,t,r=null){let a=t.querySelector("svg");!a&&r&&(a=Q(r));let n=this._getTabName(t.href).trim();n=n[0].toUpperCase()+n.slice(1);let i=t.querySelector("span"),o=i&&i.innerText?i.innerText.trim():"0",s="0"!=o&&B.createElement("span",{className:"Counter",title:o},o);return B.createElement("a",{href:t.href,className:"UnderlineNav-item"+(this._getTabName(e)==this._getTabName(t.href)?" selected":"")},a," ",n," ",s)}},new class extends I{async isApplieble(e){return await $.defreshProfilePage.getValue()&&await $.removeThemeSelector.getValue()&&f(e)}async waitUntilFixerReady(){return M("main:nth-child(1) nav")}apply(){let e=document.querySelector("main:nth-child(1) nav");e&&e.nextElementSibling&&e.nextElementSibling.remove()}},new class extends I{async isApplieble(e){return await $.defreshProfilePage.getValue()&&await $.defreshProfilePageUserStatus.getValue()&&f(e)}waitUntilFixerReady(){return F("main:nth-child(1) .user-status-container")}apply(){let e=document.querySelector("main .user-status-container"),t=e.querySelector("img")||e.querySelector("g-emoji"),r=e.querySelector(".user-status-message-wrapper"),a=r?r.innerText.trim():"",n=!!e.querySelector(".user-status-busy"),i=e.querySelector("details-dialog");this._fixDetails(i),e.replaceWith(this._createStatusContainer(t,a,n,i));let o=document.querySelector("main img.avatar");o&&o.classList.add("avatar-before-user-status")}_createStatusContainer(e,t,r=!1,a=null){return B.createElement(a?"details":"div",{className:"user-status-container border position-relative hide-sm bg-white hide-md"+(a?" details-reset details-overlay details-overlay-dark":"")},B.createElement(a?"summary":"div",{className:"d-flex"},B.createElement("div",{className:"d-flex p-2 width-full border-0 rounded-bottom-0"+(r?" user-status-container-border-busy bg-yellow-light border-yellow":"")},B.createElement("div",{className:"flex-self-start mr-1 ml-1"},B.createElement("div",null,e)),B.createElement("div",{className:"user-status-message-wrapper f6 mt-1 text-gray-dark ws-normal"},B.createElement("div",null,B.createElement("div",null,t))))),a)}_fixDetails(e){e&&(this._fixDetailsFragments(e),this._fixDetailsEmojis(e),this._fixDetailsButtons(e))}_fixDetailsFragments(e){for(let t of[...e.querySelectorAll("include-fragment")])t.setAttribute("src",t.getAttribute("data-url"))}_fixDetailsEmojis(e){let t=e.querySelector(".js-user-status-custom-emoji"),r=e.querySelector("form").emoji;e.querySelector(".btn.js-toggle-user-status-emoji-picker").addEventListener("click",(a=>{a.preventDefault(),a.stopPropagation();let n=e.querySelector("emoji-picker");n&&(this._fixEmojiPicker(t,r,n),n.open())}))}_fixEmojiPicker(e,t,r){if(!r.fixed){for(let a of[...r.querySelectorAll(".js-emoji-button")])a.addEventListener("click",(function(a){a.preventDefault(),t.value=this.getAttribute("value");let n=this.children[0].cloneNode(!0);n.removeAttribute("width"),n.removeAttribute("height"),e.children[0].replaceWith(B.createElement("div",null,n)),r.close()}));r.fixed=!0}}_fixDetailsButtons(e){let t=e.querySelector("form button[type='submit']"),r=t.parentElement.querySelector("button:not([type='submit'])");t.addEventListener("click",(async function(e){e.preventDefault(),await X(this.form),location.reload()})),r.addEventListener("click",(async function(e){e.preventDefault();let t=this.form;t.emoji.value="",t.message.value="",t.limited_availability.value="0",await X(this.form),location.reload()}))}},new class extends I{async isApplieble(e){return await $.defreshProfilePage.getValue()&&f(e)}async waitUntilFixerReady(){return await M("main:nth-child(1) .h-card")&&await F("main:nth-child(1) #blob-more-options-details")}apply(){let e=document.querySelector("#blob-more-options-details"),t=e.querySelector("details").parentElement;t.querySelector("summary").className="btn-link text-small muted-link my-1",document.querySelector("main .h-card").append(B.createElement("div",{className:"pt-3"},t)),e.parentElement.remove()}},new class extends I{apply(){this._setupObserver(),this._fixAll()}_needToBeFixed(e){return!e.hasAttribute("defreshed")&&e.href&&!p(e.href)&&(!!(t=e.href)&&(t.startsWith("/")||g(t,location.host)))&&(o(e.href)||h(e.href)||f(e.href))&&!d(e.href)&&!m(e.href);var t}_fix(e){e.setAttribute("defreshed",""),e.addEventListener("click",(async function(e){e.metaKey||e.ctrlKey||(e.stopPropagation(),e.preventDefault(),re(b(this.href)))}))}_fixAll(){[...document.querySelectorAll("a")].filter(this._needToBeFixed).forEach(this._fix)}_setupObserver(){window.defreshObserver||(window.defreshObserver=new MutationObserver((()=>this._fixAll())),window.defreshObserver.observe(document.body,{childList:!0,subtree:!0}))}},new class extends I{apply(){window.onpopstate=function(){let e=document.location.href;v(e)&&o(e)&&!p(e)?re(e,!1):window.location.href=document.location.href}}},new class extends I{apply(){[...document.querySelectorAll(".js-notification-top-shelf[closing], div#js-flash-container[closing]")].forEach((e=>e.remove())),[...document.querySelectorAll(".js-notification-top-shelf, div#js-flash-container")].forEach((e=>e.setAttribute("closing","")))}}];async function ne(e=window.location.href){let t=document.createElement("backup");for(let r of ae)if(await r.isApplieble(e,t)&&await r.waitUntilFixerReady(e,t))try{await r.apply(e,t)}catch(e){console.log("Fixer exception: ",e)}}const ie=ne;!async function(){if(!document.documentElement.classList.contains(H.u2)&&v()){document.documentElement.classList.add(H.u2);let t=document.documentElement.classList;t.add("defreshing"),await ne(),t.add("defreshed"),t.remove("defreshing"),await e(1500),t.remove("defreshed")}}()})()})();